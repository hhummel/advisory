(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},111:function(e,t,a){e.exports=a(200)},123:function(e,t,a){},127:function(e,t,a){},200:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(14),c=a.n(o),s=a(103),i=a.n(s),l=a(24),u=a(23),p=a(202),m=a(201),d=(a(123),a(125),a(44)),h=a(45),f=a(48),b=a(46),E=a(50),O=a(107),g=a.n(O),j=(a(127),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))}}]),t}(n.Component)),v=a(203),y=a(18),w=a(40),A=a(49),S=function(e){var t=e.name,a=e.label,n=e.error,o=e.type,c=Object(A.a)(e,["name","label","error","type"]),s="id_".concat(t),i=o||"text";return r.a.createElement(w.e,{color:n?"danger":""},a?r.a.createElement(w.h,{htmlFor:s},a):"",r.a.createElement(w.f,Object.assign({type:i,name:t,id:s,className:n?"is-invalid":""},c)),n?r.a.createElement(w.d,{className:"invalid-feedback"},n):"")},k=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleInputChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Object(y.a)({},r,n))},a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.username,a.state.password)},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.errors||{};return r.a.createElement(w.g,{className:"container"},r.a.createElement(w.c,{onSubmit:this.onSubmit},r.a.createElement("h1",null,"Authentication"),e.non_field_errors?r.a.createElement(w.a,{color:"danger"},e.non_field_errors):"",r.a.createElement(S,{name:"username",label:"Username",error:e.username,onChange:this.handleInputChange}),r.a.createElement(S,{name:"password",label:"Password",error:e.password,type:"password",onChange:this.handleInputChange}),r.a.createElement(w.b,{type:"submit",color:"primary",size:"lg"},"Log In")))}}]),t}(n.Component),N=a(41),_=a(11),I=a(42),C=a(51),L=a.n(C),x={access:void 0,refresh:void 0,errors:{}};function R(e){return!e.refresh||!e.refresh.exp||1e3*e.refresh.exp-(new Date).getTime()<5e3}var T=Object(_.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@auth/LOGIN_SUCCESS":return{access:Object(I.a)({token:t.payload.access},L()(t.payload.access)),refresh:Object(I.a)({token:t.payload.refresh},L()(t.payload.refresh)),errors:{}};case"@@auth/TOKEN_RECEIVED":return Object(I.a)({},e,{access:Object(I.a)({token:t.payload.access},L()(t.payload.access))});case"@@auth/LOGIN_FAILURE":case"@@auth/TOKEN_FAILURE":return{access:void 0,refresh:void 0,errors:t.payload.response||{non_field_errors:t.payload.statusText}};default:return e}},router:l.c}),U=function(e){return function(e){return!R(e)}(e.auth)},F=Object(u.b)(function(e){return{errors:function(e){return function(e){return e.errors}(e.auth)}(e),isAuthenticated:U(e)}},function(e){return{onSubmit:function(t,a){e(function(e,t){return Object(y.a)({},N.RSAA,{endpoint:"/api/auth/token/obtain/",method:"POST",body:JSON.stringify({username:e,password:t}),headers:{"Content-Type":"application/json"},types:["@@auth/LOGIN_REQUEST","@@auth/LOGIN_SUCCESS","@@auth/LOGIN_FAILURE"]})}(t,a))}}})(function(e){return e.isAuthenticated?r.a.createElement(v.a,{to:"/"}):r.a.createElement("div",{className:"login-page"},r.a.createElement(k,e))}),G=Object(u.b)(function(e){return{isAuthenticated:U(e)}},null)(function(e){var t=e.component,a=e.isAuthenticated,n=Object(A.a)(e,["component","isAuthenticated"]);return r.a.createElement(m.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),D=a(110),J=a(109),B=a(47);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=i()(),P=function(e){var t=Object(J.createFilter)("auth",["access","refresh"]),a=Object(B.persistReducer)({key:"polls",storage:D.a,whitelist:["auth"],transforms:[t]},T),n=Object(_.d)(a,{},Object(_.a)(N.apiMiddleware,Object(l.b)(e)));return Object(B.persistStore)(n),n}(K);c.a.render(r.a.createElement(u.a,{store:P},r.a.createElement(l.a,{history:K},r.a.createElement(p.a,null,r.a.createElement(m.a,{exact:!0,path:"/login/",component:F}),r.a.createElement(G,{path:"/",component:j})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[111,2,1]]]);
//# sourceMappingURL=main.1e3a45d8.chunk.js.map